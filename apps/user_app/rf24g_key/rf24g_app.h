#ifndef _RF24G_APP_H_
#define _RF24G_APP_H_

#include "board_ac632n_demo_cfg.h"

#if TCFG_RF24GKEY_ENABLE

/*
    定义遥控器类型

    目前通过遥控器发送的格式头来区分遥控器类型
*/
enum
{
    RF24G_REMOTE_TYPE_NONE = 0x00,
    RF24G_REMOTE_TYPE_17_KEYS, // 17个按键的遥控器
    /*
        用 AK803-SOP16 写的遥控器
        完整的有28个按键（实际可能不会全部用到）
    */
    RF24G_REMOTE_TYPE_28_KEYS,
};

// 定义按键键值：（17个按键的遥控器）
enum
{
    RF24G_KEY_ON_OFF = 0x01,

    RF24G_KEY_MODE_ADD = 0x05,
    RF24G_KEY_MODE_SUB = 0X0B,

    RF24G_KEY_SPEED_SUB = 0x07,
    RF24G_KEY_SPEED_ADD = 0x09,

    RF24G_KEY_DEMO = 0x08,

    RF24G_KEY_COLOR_ADD = 0x0A,
    RF24G_KEY_COLOR_SUB = 0x0D,

    RF24G_KEY_BRIGHT_ADD = 0x0C,
    RF24G_KEY_BRIGHT_SUB = 0x0F,

    RF24G_KEY_A = 0x0E,
    RF24G_KEY_B = 0x10,
    RF24G_KEY_C = 0x11,
    RF24G_KEY_D = 0x12,
    RF24G_KEY_E = 0x13,
    RF24G_KEY_F = 0x14,
    RF24G_KEY_G = 0x15,

    // RF24G_KEY_NONE, // 无按键
};

// 定义按键键值：（28个按键的遥控器）
enum
{
    RF24G_KEY_VAL_R1C1 = 0x11, // 第一行第一列
    RF24G_KEY_VAL_R1C2 = 0x12, // 第一行第二列
    RF24G_KEY_VAL_R1C3 = 0x13,
    RF24G_KEY_VAL_R1C4 = 0x14,

    RF24G_KEY_VAL_R2C1 = 0x21,
    RF24G_KEY_VAL_R2C2 = 0x22,
    RF24G_KEY_VAL_R2C3 = 0x23,
    RF24G_KEY_VAL_R2C4 = 0x24,

    RF24G_KEY_VAL_R3C1 = 0x31,
    RF24G_KEY_VAL_R3C2 = 0x32,
    RF24G_KEY_VAL_R3C3 = 0x33,
    RF24G_KEY_VAL_R3C4 = 0x34,

    RF24G_KEY_VAL_R4C1 = 0x41,
    RF24G_KEY_VAL_R4C2 = 0x42,
    RF24G_KEY_VAL_R4C3 = 0x43,
    RF24G_KEY_VAL_R4C4 = 0x44,

    RF24G_KEY_VAL_R5C1 = 0x51,
    RF24G_KEY_VAL_R5C2 = 0x52,
    RF24G_KEY_VAL_R5C3 = 0x53,
    RF24G_KEY_VAL_R5C4 = 0x54,

    RF24G_KEY_VAL_R6C1 = 0x61,
    RF24G_KEY_VAL_R6C2 = 0x62,
    RF24G_KEY_VAL_R6C3 = 0x63,
    RF24G_KEY_VAL_R6C4 = 0x64,

    RF24G_KEY_VAL_R7C1 = 0x01,
    RF24G_KEY_VAL_R7C2 = 0x02,
    RF24G_KEY_VAL_R7C3 = 0x03,
    RF24G_KEY_VAL_R7C4 = 0x04,
};

// 定义按键事件 (17个按键)
enum
{
    RF24G_KEY_EVENT_NONE = 0x00,

    RF24G_KEY_EVENT_ON_OFF_CLICK,
    RF24G_KEY_EVENT_ON_OFF_HOLD,
    RF24G_KEY_EVENT_ON_OFF_LOOSE,

    RF24G_KEY_EVENT_MODE_ADD_CLICK,
    RF24G_KEY_EVENT_MODE_ADD_HOLD,
    RF24G_KEY_EVENT_MODE_ADD_LOOSE,

    RF24G_KEY_EVENT_MODE_SUB_CLICK,
    RF24G_KEY_EVENT_MODE_SUB_HOLD,
    RF24G_KEY_EVENT_MODE_SUB_LOOSE,

    RF24G_KEY_EVENT_SPEED_ADD_CLICK,
    RF24G_KEY_EVENT_SPEED_ADD_HOLD,
    RF24G_KEY_EVENT_SPEED_ADD_LOOSE,

    RF24G_KEY_EVENT_SPEED_SUB_CLICK,
    RF24G_KEY_EVENT_SPEED_SUB_HOLD,
    RF24G_KEY_EVENT_SPEED_SUB_LOOSE,

    RF24G_KEY_EVENT_DEMO_CLICK,
    RF24G_KEY_EVENT_DEMO_HOLD,
    RF24G_KEY_EVENT_DEMO_LOOSE,

    RF24G_KEY_EVENT_COLOR_ADD_CLICK,
    RF24G_KEY_EVENT_COLOR_ADD_HOLD,
    RF24G_KEY_EVENT_COLOR_ADD_LOOSE,

    RF24G_KEY_EVENT_COLOR_SUB_CLICK,
    RF24G_KEY_EVENT_COLOR_SUB_HOLD,
    RF24G_KEY_EVENT_COLOR_SUB_LOOSE,

    RF24G_KEY_EVENT_BRIGHT_ADD_CLICK,
    RF24G_KEY_EVENT_BRIGHT_ADD_HOLD,
    RF24G_KEY_EVENT_BRIGHT_ADD_LOOSE,

    RF24G_KEY_EVENT_BRIGHT_SUB_CLICK,
    RF24G_KEY_EVENT_BRIGHT_SUB_HOLD,
    RF24G_KEY_EVENT_BRIGHT_SUB_LOOSE,

    // 字母B
    RF24G_KEY_EVENT_B_CLICK,
    RF24G_KEY_EVENT_B_HOLD,
    RF24G_KEY_EVENT_B_LOOSE,

    // 字母F
    RF24G_KEY_EVENT_F_CLICK,
    RF24G_KEY_EVENT_F_HOLD,
    RF24G_KEY_EVENT_F_LOOSE,
    // 字母G
    RF24G_KEY_EVENT_G_CLICK,
    RF24G_KEY_EVENT_G_HOLD,
    RF24G_KEY_EVENT_G_LOOSE,
};

// 定义按键事件 （28个按键）
enum
{
    RF24G_28_KEY_EVENT_R1C1_CLICK = 0x00,
    RF24G_28_KEY_EVENT_R1C1_LONG,
    RF24G_28_KEY_EVENT_R1C1_HOLD,
    RF24G_28_KEY_EVENT_R1C1_LOOSE,

    RF24G_28_KEY_EVENT_R1C2_CLICK,
    RF24G_28_KEY_EVENT_R1C2_LONG,
    RF24G_28_KEY_EVENT_R1C2_HOLD,
    RF24G_28_KEY_EVENT_R1C2_LOOSE,

    RF24G_28_KEY_EVENT_R1C3_CLICK,
    RF24G_28_KEY_EVENT_R1C3_LONG,
    RF24G_28_KEY_EVENT_R1C3_HOLD,
    RF24G_28_KEY_EVENT_R1C3_LOOSE,

    RF24G_28_KEY_EVENT_R1C4_CLICK,
    RF24G_28_KEY_EVENT_R1C4_LONG,
    RF24G_28_KEY_EVENT_R1C4_HOLD,
    RF24G_28_KEY_EVENT_R1C4_LOOSE,

    RF24G_28_KEY_EVENT_R2C1_CLICK,
    RF24G_28_KEY_EVENT_R2C1_LONG,
    RF24G_28_KEY_EVENT_R2C1_HOLD,
    RF24G_28_KEY_EVENT_R2C1_LOOSE,

    RF24G_28_KEY_EVENT_R2C2_CLICK,
    RF24G_28_KEY_EVENT_R2C2_LONG,
    RF24G_28_KEY_EVENT_R2C2_HOLD,
    RF24G_28_KEY_EVENT_R2C2_LOOSE,

    RF24G_28_KEY_EVENT_R2C3_CLICK,
    RF24G_28_KEY_EVENT_R2C3_LONG,
    RF24G_28_KEY_EVENT_R2C3_HOLD,
    RF24G_28_KEY_EVENT_R2C3_LOOSE,

    RF24G_28_KEY_EVENT_R2C4_CLICK,
    RF24G_28_KEY_EVENT_R2C4_LONG,
    RF24G_28_KEY_EVENT_R2C4_HOLD,
    RF24G_28_KEY_EVENT_R2C4_LOOSE,

    RF24G_28_KEY_EVENT_R3C1_CLICK,
    RF24G_28_KEY_EVENT_R3C1_LONG,
    RF24G_28_KEY_EVENT_R3C1_HOLD,
    RF24G_28_KEY_EVENT_R3C1_LOOSE,

    RF24G_28_KEY_EVENT_R3C2_CLICK,
    RF24G_28_KEY_EVENT_R3C2_LONG,
    RF24G_28_KEY_EVENT_R3C2_HOLD,
    RF24G_28_KEY_EVENT_R3C2_LOOSE,

    RF24G_28_KEY_EVENT_R3C3_CLICK,
    RF24G_28_KEY_EVENT_R3C3_LONG,
    RF24G_28_KEY_EVENT_R3C3_HOLD,
    RF24G_28_KEY_EVENT_R3C3_LOOSE,

    RF24G_28_KEY_EVENT_R3C4_CLICK,
    RF24G_28_KEY_EVENT_R3C4_LONG,
    RF24G_28_KEY_EVENT_R3C4_HOLD,
    RF24G_28_KEY_EVENT_R3C4_LOOSE,

    RF24G_28_KEY_EVENT_R4C1_CLICK,
    RF24G_28_KEY_EVENT_R4C1_LONG,
    RF24G_28_KEY_EVENT_R4C1_HOLD,
    RF24G_28_KEY_EVENT_R4C1_LOOSE,

    RF24G_28_KEY_EVENT_R4C2_CLICK,
    RF24G_28_KEY_EVENT_R4C2_LONG,
    RF24G_28_KEY_EVENT_R4C2_HOLD,
    RF24G_28_KEY_EVENT_R4C2_LOOSE,

    RF24G_28_KEY_EVENT_R4C3_CLICK,
    RF24G_28_KEY_EVENT_R4C3_LONG,
    RF24G_28_KEY_EVENT_R4C3_HOLD,
    RF24G_28_KEY_EVENT_R4C3_LOOSE,

    RF24G_28_KEY_EVENT_R4C4_CLICK,
    RF24G_28_KEY_EVENT_R4C4_LONG,
    RF24G_28_KEY_EVENT_R4C4_HOLD,
    RF24G_28_KEY_EVENT_R4C4_LOOSE,

    RF24G_28_KEY_EVENT_R5C1_CLICK,
    RF24G_28_KEY_EVENT_R5C1_LONG,
    RF24G_28_KEY_EVENT_R5C1_HOLD,
    RF24G_28_KEY_EVENT_R5C1_LOOSE,

    RF24G_28_KEY_EVENT_R5C2_CLICK,
    RF24G_28_KEY_EVENT_R5C2_LONG,
    RF24G_28_KEY_EVENT_R5C2_HOLD,
    RF24G_28_KEY_EVENT_R5C2_LOOSE,

    RF24G_28_KEY_EVENT_R5C3_CLICK,
    RF24G_28_KEY_EVENT_R5C3_LONG,
    RF24G_28_KEY_EVENT_R5C3_HOLD,
    RF24G_28_KEY_EVENT_R5C3_LOOSE,

    RF24G_28_KEY_EVENT_R5C4_CLICK,
    RF24G_28_KEY_EVENT_R5C4_LONG,
    RF24G_28_KEY_EVENT_R5C4_HOLD,
    RF24G_28_KEY_EVENT_R5C4_LOOSE,

    RF24G_28_KEY_EVENT_R6C1_CLICK,
    RF24G_28_KEY_EVENT_R6C1_LONG,
    RF24G_28_KEY_EVENT_R6C1_HOLD,
    RF24G_28_KEY_EVENT_R6C1_LOOSE,

    RF24G_28_KEY_EVENT_R6C2_CLICK,
    RF24G_28_KEY_EVENT_R6C2_LONG,
    RF24G_28_KEY_EVENT_R6C2_HOLD,
    RF24G_28_KEY_EVENT_R6C2_LOOSE,

    RF24G_28_KEY_EVENT_R6C3_CLICK,
    RF24G_28_KEY_EVENT_R6C3_LONG,
    RF24G_28_KEY_EVENT_R6C3_HOLD,
    RF24G_28_KEY_EVENT_R6C3_LOOSE,

    RF24G_28_KEY_EVENT_R6C4_CLICK,
    RF24G_28_KEY_EVENT_R6C4_LONG,
    RF24G_28_KEY_EVENT_R6C4_HOLD,
    RF24G_28_KEY_EVENT_R6C4_LOOSE,

    RF24G_28_KEY_EVENT_R7C1_CLICK,
    RF24G_28_KEY_EVENT_R7C1_LONG,
    RF24G_28_KEY_EVENT_R7C1_HOLD,
    RF24G_28_KEY_EVENT_R7C1_LOOSE,

    RF24G_28_KEY_EVENT_R7C2_CLICK,
    RF24G_28_KEY_EVENT_R7C2_LONG,
    RF24G_28_KEY_EVENT_R7C2_HOLD,
    RF24G_28_KEY_EVENT_R7C2_LOOSE,

    RF24G_28_KEY_EVENT_R7C3_CLICK,
    RF24G_28_KEY_EVENT_R7C3_LONG,
    RF24G_28_KEY_EVENT_R7C3_HOLD,
    RF24G_28_KEY_EVENT_R7C3_LOOSE,

    RF24G_28_KEY_EVENT_R7C4_CLICK,
    RF24G_28_KEY_EVENT_R7C4_LONG,
    RF24G_28_KEY_EVENT_R7C4_HOLD,
    RF24G_28_KEY_EVENT_R7C4_LOOSE,

    RF24G_28_KEY_EVENT_MAX,
};

#define RF34G_KEY_EVENT_MAX (3) // 按键事件种类个数， 短按、持续hold、松开

#define RF24G_KEY_SCAN_TIME_MS (10) // 2.4G遥控器按键扫描频率，单位：ms
#define RF24G_KEY_LONG_TIME_MS (1500)
#define RF24G_KEY_HOLD_TIME_MS (500)
#define RF24G_KEY_SCAN_CLICK_DELAY_TIME_MS (0) // 2.4G遥控器按键被抬起后等待连击延时数量
#define RF24G_KEY_SCAN_FILTER_TIME_MS (0)      // 2.4G遥控器按键消抖延时

// 17个按键、白色面板的遥控器，对应的格式头
#define HEADER1_1 0XCC
#define HEADER2_1 0X02

/*
    用 AK803-SOP16 写的遥控器
    完整的功能有28个按键，对应的格式头
*/
#define REMOTE_TYPE_28KEY_HEADER_1 0xDC
#define REMOTE_TYPE_28KEY_HEADER_2 0xDC

#pragma pack(1)
typedef struct
{
    u8 header1;
    u8 header2;

    // u8 pair[3]; // 客户码
    u8 key_v;
    u8 dynamic_code; //  动态码

#if 0 // 803 2.4G遥控器 数据包：
 

    u8 header1;
    u8 header2;

    u8 key_v;        // 键值
    u8 fix_val_1;    // 固定值
    u8 fix_val_2;    // 固定值
    u8 fix_val_3;    // 固定值
    u8 dynamic_code; // 滚动码

    // u8 fix_val_4; // 固定值

#endif

} rf24g_ins_t; // 指令数据
#pragma pack()

// 给【指向遥控器按键事件处理函数的指针类型】起别名
typedef void (*rf24_key_handle_func_t)(void);

extern struct key_driver_para rf24g_scan_para;
extern const rf24_key_handle_func_t rf24_28keys_handle_func_buff[RF24G_28_KEY_EVENT_MAX];

// void rf24g_scan(unsigned char *pBuf);
// void rf24g_long_timer(void);
// u8 get_rf24g_long_state(void);

#endif // #if TCFG_RF24GKEY_ENABLE
#endif // end of file
